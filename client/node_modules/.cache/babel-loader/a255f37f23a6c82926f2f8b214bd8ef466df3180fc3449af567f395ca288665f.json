{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gbrar\\\\OneDrive\\\\Desktop\\\\CSCI275\\\\cricket-project\\\\backend\\\\client\\\\src\\\\components\\\\JoinFunTeam.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport Alert from \"@mui/material/Alert\";\nimport { useAlert } from \"react-alert\";\nimport Modal from \"@mui/material/Modal\";\nimport { IconButton } from \"@mui/material\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { useTheme } from \"@mui/material/styles\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport { Typography, Card, CardContent, TextField, Button } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JoinTeam = () => {\n  _s();\n  const [success, setSuccess] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const [match, setMatch] = useState(null);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const state = location.state;\n  const token = localStorage.getItem(\"token\");\n  const [matchIds, setMatchIds] = useState([]);\n  const [membershipStatus, setMembershipStatus] = useState(\"\");\n  const [checked, setChecked] = useState(false);\n  const [showInfoModal, setShowInfoModal] = useState(false);\n  const [birthDate, setBirthDate] = useState(null);\n  const theme = useTheme();\n  const isSmallScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const [alert, setAlert] = useState(\"\");\n  const backendUrl = process.env.BASE_URL || 'http://localhost:5000';\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    fetchMatch();\n    fetchUserMatches();\n    fetchUser();\n  }, []);\n  const countPlayersInTeam = teamName => {\n    if (!match) return 0;\n    const team = match.Teams.find(t => t.name === teamName);\n    return team ? team.team.length : 0;\n  };\n  const toggleInfoModal = () => {\n    setShowInfoModal(!showInfoModal);\n  };\n  const fetchUser = async () => {\n    try {\n      const response = await fetch(`${backendUrl}/api/auth/getuser`, {\n        method: \"POST\",\n        headers: {\n          \"auth-token\": token\n        }\n      });\n      const data = await response.json();\n      if (data.user) {\n        setBirthDate(data.user.birthDate);\n        setMembershipStatus(data.user.membershipStatus);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const calculateAge = birthDate => {\n    if (!birthDate) {\n      return null;\n    }\n    const today = new Date();\n    const birthDateObj = new Date(birthDate);\n    let yearsDiff = today.getFullYear() - birthDateObj.getFullYear();\n    return {\n      years: yearsDiff\n    };\n  };\n  const fetchUserMatches = async () => {\n    try {\n      const response = await fetch(`${backendUrl}/api/matches/fetchallmatches`, {\n        method: \"GET\",\n        headers: {\n          \"auth-token\": token\n        }\n      });\n      const data = await response.json();\n      const ids = data.map(match => match.id);\n      setMatchIds(ids);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const fetchMatch = async () => {\n    try {\n      const response = await fetch(`${backendUrl}/api/allmatches/getmatches`, {\n        method: \"GET\",\n        headers: {\n          \"match-id\": state.matchId\n        }\n      });\n      const data = await response.json();\n      setMatch(data.match);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const [personalData, setPersonalData] = useState({\n    name: \"\",\n    role: \"\",\n    team: \"\",\n    mobileNumber: \"\",\n    address: \"\"\n  });\n  const addPlayer = async () => {\n    const {\n      name,\n      role,\n      team\n    } = personalData;\n    if (!match) {\n      return;\n    }\n    const updatedTeams = [...match.Teams];\n    const teamIndex = updatedTeams.findIndex(t => t.name === team);\n    if (teamIndex !== -1) {\n      // Add the new player to the team\n      updatedTeams[teamIndex].team.push({\n        name,\n        role\n      });\n      try {\n        const putResponse = await fetch(`{/api/allmatches/updatematch/${state.matchId}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            Teams: updatedTeams\n          })\n        });\n        const jsonResponse = await putResponse.json();\n        const addMatch = await fetch(`http://localhost:5000/api/matches/addmatch`, {\n          method: \"POST\",\n          headers: {\n            \"auth-token\": token,\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            id: state.matchId\n          })\n        });\n        const addMatchResponse = await addMatch.json();\n        if (jsonResponse.success && addMatchResponse.success) {\n          setSuccess(true);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n  const checkMatch = () => {\n    let matchExists = false;\n    matchIds.forEach(id => {\n      if (id === state.matchId) {\n        matchExists = true;\n      }\n    });\n    return matchExists;\n  };\n  const handleDataChange = async e => {\n    setPersonalData({\n      ...personalData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleDataSubmit = async e => {\n    e.preventDefault();\n    if (membershipStatus === \"none\") {\n      const alert = \"You have to be a member in order to enter the match!\";\n      localStorage.setItem(\"becomeMemberAlert\", alert);\n      console.log(localStorage.getItem(\"becomeMemberAlert\"));\n      const navigation = \"joinfunteam\";\n      localStorage.setItem(\"navigation\", navigation);\n      navigate(\"/mymembership\");\n      return;\n    }\n    if (!personalData.name || !personalData.role || !personalData.team || !personalData.mobileNumber || !personalData.address) {\n      setAlert(\"Please fill out all the fields.\");\n      setShowAlert(true);\n      window.scrollTo(0, 0);\n      return;\n    } else if (!checked) {\n      setAlert(\"Please agree to the Terms and Conditions.\");\n      setShowAlert(true);\n      window.scrollTo(0, 0);\n      return;\n    }\n    if (verifyAge(birthDate)) {\n      return;\n    }\n    if (!checkMatch()) {\n      await addPlayer();\n      const alert1 = \"You have successfully entered into match!\";\n      localStorage.setItem(\"matchAlert\", alert1);\n      navigate(\"/team\", {\n        state\n      });\n      return;\n    }\n  };\n  const verifyAge = birthDate => {\n    if (birthDate) {\n      if (calculateAge(new Date(birthDate)).years < 18) {\n        return true;\n      }\n      return false;\n    }\n  };\n  const styles = {\n    container: {\n      maxWidth: isSmallScreen ? \"200\" : \"400px\",\n      margin: isSmallScreen ? \"30% 10%\" : \"8rem auto\",\n      padding: \"15px\",\n      backgroundColor: \"#f5f5f5\",\n      borderRadius: \"5px\",\n      boxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.25)\",\n      fontSize: isSmallScreen ? \".75rem\" : \"1rem\"\n    },\n    formGroup: {\n      marginBottom: \"20px\"\n    },\n    modalContainer: {\n      backgroundColor: \"white\",\n      padding: \"20px\",\n      borderRadius: \"5px\",\n      maxWidth: \"400px\",\n      margin: isSmallScreen ? '3rem' : '4rem auto'\n    },\n    input: {\n      width: \"100%\",\n      padding: \"\",\n      padding: isSmallScreen ? '5px' : '10px',\n      borderRadius: \"5px\",\n      border: \"1px solid #ccc\",\n      boxSizing: \"border-box\"\n    },\n    textarea: {\n      width: \"100%\",\n      padding: \"10px\",\n      borderRadius: \"5px\",\n      border: \"1px solid #ccc\",\n      boxSizing: \"border-box\",\n      resize: \"vertical\",\n      minHeight: \"100px\"\n    },\n    button: {\n      backgroundColor: \"#088A08\",\n      color: \"#fff\",\n      padding: isSmallScreen ? '8px 15px' : '10px 20px',\n      borderRadius: \"5px\",\n      border: \"none\",\n      cursor: \"pointer\",\n      boxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.25)\",\n      fontSize: isSmallScreen ? '.7rem' : '.9rem'\n    },\n    buttonContainer: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    label: {\n      fontSize: isSmallScreen ? '.8rem' : '1rem'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center-container\",\n        children: countPlayersInTeam(\"Team1\") >= 15 || countPlayersInTeam(\"Team2\") >= 15 ? /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          style: {\n            fontSize: isSmallScreen ? '.7rem' : '.9rem',\n            width: \"100%\",\n            position: \"sticky\",\n            top: isSmallScreen ? \"2.5rem\" : \"3.5rem\",\n            zIndex: 1\n          },\n          children: countPlayersInTeam(\"Team1\") >= 15 ? \"Team 1 is full!\" : \"Team 2 is full!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center-container\",\n        children: verifyAge(birthDate) && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          style: {\n            fontSize: isSmallScreen ? '.7rem' : '.9rem',\n            width: \"100%\",\n            position: \"sticky\",\n            top: isSmallScreen ? \"2.5rem\" : \"3.5rem\",\n            zIndex: 1\n          },\n          children: \"You must be 18 or above in order to enter match!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center-container\",\n        children: checkMatch() && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          className: \"general-alert\",\n          children: \"You have already registered for this match!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginTop: isSmallScreen ? '.5rem' : '1rem',\n            fontSize: isSmallScreen ? '1.2rem' : '2rem'\n          },\n          children: \"Join Team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), showAlert && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-alert\",\n        children: alert\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleDataSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            style: styles.label,\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"name\",\n            value: personalData.name,\n            onChange: handleDataChange,\n            required: true,\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"role\",\n            style: styles.label,\n            children: \"Role:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"role\",\n            name: \"role\",\n            value: personalData.role,\n            onChange: handleDataChange,\n            required: true,\n            style: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Betsmen\",\n              children: \"Batsman\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Bowler\",\n              children: \"Bowler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Wicketkeeper\",\n              children: \"Wicketkeeper\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"All Rounder\",\n              children: \"All Rounder\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"team\",\n            style: styles.label,\n            children: \"Team:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"team\",\n            name: \"team\",\n            value: personalData.team,\n            onChange: handleDataChange,\n            required: true,\n            style: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a team\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this), countPlayersInTeam(\"Team1\") < 15 && /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Team1\",\n              children: \"Team 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), countPlayersInTeam(\"Team2\") < 15 && /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Team2\",\n              children: \"Team 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"mobileNumber\",\n            style: styles.label,\n            children: \"Mobile Number:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            id: \"mobileNumber\",\n            name: \"mobileNumber\",\n            value: personalData.mobileNumber,\n            onChange: handleDataChange,\n            required: true,\n            style: styles.input,\n            maxLength: 10,\n            minLength: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"address\",\n            style: styles.label,\n            children: \"Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"address\",\n            name: \"address\",\n            value: personalData.address,\n            onChange: handleDataChange,\n            required: true,\n            style: styles.textarea\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            margin: \"3%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"termsCheckbox\",\n            style: {\n              fontSize: isSmallScreen ? '.8rem' : '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"termsCheckbox\",\n              checked: checked,\n              onChange: () => setChecked(!checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), \"I agree to the\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              onClick: toggleInfoModal,\n              style: {\n                color: \"blue\",\n                textDecoration: \"none\",\n                pointer: \"cursor\"\n              },\n              children: \"Terms and Conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.buttonContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: styles.button,\n            onClick: handleDataSubmit,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            open: showInfoModal,\n            onClose: toggleInfoModal,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.modalContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"flex-end\"\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  edge: \"end\",\n                  color: \"inherit\",\n                  onClick: toggleInfoModal,\n                  \"aria-label\": \"close\",\n                  children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  marginBottom: \"2%\",\n                  fontWeight: \"bold\",\n                  fontSize: isSmallScreen ? '1rem' : '1.3rem'\n                },\n                children: \"Terms and Conditions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                style: {\n                  fontSize: isSmallScreen ? '.7rem' : '1rem'\n                },\n                children: \"Player must be 18 or above to enroll in the match. If the player is found to be less than 18, then player would not be allowed to play.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 5\n  }, this);\n};\n_s(JoinTeam, \"N0a7NZhcGdSF+Uzc42Nn+0leBYc=\", false, function () {\n  return [useNavigate, useLocation, useTheme, useMediaQuery];\n});\n_c = JoinTeam;\nexport default JoinTeam;\nvar _c;\n$RefreshReg$(_c, \"JoinTeam\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Link","useNavigate","useLocation","Alert","useAlert","Modal","IconButton","CloseIcon","useTheme","useMediaQuery","Typography","Card","CardContent","TextField","Button","jsxDEV","_jsxDEV","JoinTeam","_s","success","setSuccess","showAlert","setShowAlert","match","setMatch","navigate","location","state","token","localStorage","getItem","matchIds","setMatchIds","membershipStatus","setMembershipStatus","checked","setChecked","showInfoModal","setShowInfoModal","birthDate","setBirthDate","theme","isSmallScreen","breakpoints","down","alert","setAlert","backendUrl","process","env","BASE_URL","fetchMatch","fetchUserMatches","fetchUser","countPlayersInTeam","teamName","team","Teams","find","t","name","length","toggleInfoModal","response","fetch","method","headers","data","json","user","error","console","log","calculateAge","today","Date","birthDateObj","yearsDiff","getFullYear","years","ids","map","id","matchId","personalData","setPersonalData","role","mobileNumber","address","addPlayer","updatedTeams","teamIndex","findIndex","push","putResponse","body","JSON","stringify","jsonResponse","addMatch","addMatchResponse","checkMatch","matchExists","forEach","handleDataChange","e","target","value","handleDataSubmit","preventDefault","setItem","navigation","window","scrollTo","verifyAge","alert1","styles","container","maxWidth","margin","padding","backgroundColor","borderRadius","boxShadow","fontSize","formGroup","marginBottom","modalContainer","input","width","border","boxSizing","textarea","resize","minHeight","button","color","cursor","buttonContainer","display","justifyContent","label","children","style","className","severity","position","top","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","onSubmit","htmlFor","type","onChange","required","maxLength","minLength","textAlign","onClick","textDecoration","pointer","open","onClose","edge","variant","fontWeight","_c","$RefreshReg$"],"sources":["C:/Users/gbrar/OneDrive/Desktop/CSCI275/cricket-project/backend/client/src/components/JoinFunTeam.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport { useAlert } from \"react-alert\";\r\nimport Modal from \"@mui/material/Modal\"; \r\nimport { IconButton } from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport {\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  TextField,\r\n  Button,\r\n} from \"@mui/material\";\r\nconst JoinTeam = () => {\r\n  const [success, setSuccess] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [match, setMatch] = useState(null);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const state = location.state;\r\n  const token = localStorage.getItem(\"token\");\r\n  const [matchIds, setMatchIds] = useState([]);\r\n  const [membershipStatus, setMembershipStatus] = useState(\"\");\r\n  const [checked, setChecked] = useState(false);\r\n  const [showInfoModal, setShowInfoModal] = useState(false);\r\n  const [birthDate, setBirthDate] = useState(null);\r\n  const theme = useTheme();\r\n  const isSmallScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const [alert, setAlert] = useState(\"\");\r\n  const backendUrl = process.env.BASE_URL || 'http://localhost:5000'; \r\n  useEffect(() => {\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    fetchMatch();\r\n    fetchUserMatches();\r\n    fetchUser();\r\n  }, []);\r\n  const countPlayersInTeam = (teamName) => {\r\n    if (!match) return 0;\r\n    const team = match.Teams.find((t) => t.name === teamName);\r\n    return team ? team.team.length : 0;\r\n  };\r\n  const toggleInfoModal = () => {\r\n    setShowInfoModal(!showInfoModal);\r\n  };\r\n  const fetchUser = async () => {\r\n    try {\r\n      const response = await fetch(`${backendUrl}/api/auth/getuser`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"auth-token\": token,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (data.user) {\r\n        setBirthDate(data.user.birthDate);\r\n        setMembershipStatus(data.user.membershipStatus);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const calculateAge = (birthDate) => {\r\n    if (!birthDate) {\r\n      return null;\r\n    }\r\n    const today = new Date();\r\n    const birthDateObj = new Date(birthDate);\r\n\r\n    let yearsDiff = today.getFullYear() - birthDateObj.getFullYear();\r\n\r\n    return { years: yearsDiff };\r\n  };\r\n  const fetchUserMatches = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `${backendUrl}/api/matches/fetchallmatches`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"auth-token\": token,\r\n          },\r\n        }\r\n      );\r\n      const data = await response.json();\r\n      const ids = data.map((match) => match.id);\r\n      setMatchIds(ids);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchMatch = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `${backendUrl}/api/allmatches/getmatches`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"match-id\": state.matchId,\r\n          },\r\n        }\r\n      );\r\n      const data = await response.json();\r\n      setMatch(data.match);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const [personalData, setPersonalData] = useState({\r\n    name: \"\",\r\n    role: \"\",\r\n    team: \"\",\r\n    mobileNumber: \"\",\r\n    address: \"\",\r\n  });\r\n\r\n  const addPlayer = async () => {\r\n    const { name, role, team } = personalData;\r\n    if (!match) {\r\n      return;\r\n    }\r\n\r\n    const updatedTeams = [...match.Teams];\r\n    const teamIndex = updatedTeams.findIndex((t) => t.name === team);\r\n\r\n    if (teamIndex !== -1) {\r\n      // Add the new player to the team\r\n      updatedTeams[teamIndex].team.push({ name, role });\r\n\r\n      try {\r\n        const putResponse = await fetch(\r\n          `{/api/allmatches/updatematch/${state.matchId}`,\r\n          {\r\n            method: \"PUT\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ Teams: updatedTeams }),\r\n          }\r\n        );\r\n\r\n        const jsonResponse = await putResponse.json();\r\n        const addMatch = await fetch(\r\n          `http://localhost:5000/api/matches/addmatch`,\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"auth-token\": token,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ id: state.matchId }),\r\n          }\r\n        );\r\n        const addMatchResponse = await addMatch.json();\r\n\r\n        if (jsonResponse.success && addMatchResponse.success) {\r\n          setSuccess(true);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const checkMatch = () => {\r\n    let matchExists = false;\r\n    matchIds.forEach((id) => {\r\n      if (id === state.matchId) {\r\n        matchExists = true;\r\n      }\r\n    });\r\n    return matchExists;\r\n  };\r\n\r\n  const handleDataChange = async (e) => {\r\n    setPersonalData({ ...personalData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleDataSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (membershipStatus === \"none\") {\r\n      const alert = \"You have to be a member in order to enter the match!\";\r\n      localStorage.setItem(\"becomeMemberAlert\", alert);\r\n      console.log(localStorage.getItem(\"becomeMemberAlert\"))\r\n      const navigation = \"joinfunteam\";\r\n      localStorage.setItem(\"navigation\", navigation);\r\n      navigate(\"/mymembership\");\r\n      return;\r\n    }\r\n    if (\r\n      !personalData.name ||\r\n      !personalData.role ||\r\n      !personalData.team ||\r\n      !personalData.mobileNumber||\r\n      !personalData.address\r\n    ) {\r\n      setAlert(\"Please fill out all the fields.\");\r\n      setShowAlert(true);\r\n      window.scrollTo(0, 0);\r\n      return;\r\n    }else if(!checked){\r\n      setAlert(\"Please agree to the Terms and Conditions.\");\r\n      setShowAlert(true);\r\n      window.scrollTo(0, 0);\r\n      return;\r\n    }\r\n    if (verifyAge(birthDate)) {\r\n      return;\r\n    }\r\n    if (!checkMatch()) {\r\n      await addPlayer();\r\n      const alert1 = \"You have successfully entered into match!\";\r\n      localStorage.setItem(\"matchAlert\", alert1);\r\n      navigate(\"/team\", { state });\r\n      return;\r\n    }\r\n  };\r\n  const verifyAge = (birthDate) => {\r\n    if (birthDate) {\r\n      if (calculateAge(new Date(birthDate)).years < 18) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n  const styles = {\r\n    container: {\r\n      maxWidth: isSmallScreen? \"200\":\"400px\",\r\n      margin: isSmallScreen? \"30% 10%\":\"8rem auto\",\r\n      padding: \"15px\",\r\n      backgroundColor: \"#f5f5f5\",\r\n      borderRadius: \"5px\",\r\n      boxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.25)\",\r\n      fontSize:isSmallScreen?\".75rem\":\"1rem\"\r\n    },\r\n    formGroup: {\r\n      marginBottom: \"20px\",\r\n    },\r\n    modalContainer: {\r\n      backgroundColor: \"white\",\r\n      padding: \"20px\",\r\n      borderRadius: \"5px\",\r\n      maxWidth: \"400px\",\r\n      margin:isSmallScreen? '3rem':'4rem auto'\r\n    },\r\n    input: {\r\n      width: \"100%\",\r\n      padding: \"\",\r\n      padding:isSmallScreen? '5px':'10px',\r\n      borderRadius: \"5px\",\r\n      border: \"1px solid #ccc\",\r\n      boxSizing: \"border-box\",\r\n    },\r\n    textarea: {\r\n      width: \"100%\",\r\n      padding: \"10px\",\r\n      borderRadius: \"5px\",\r\n      border: \"1px solid #ccc\",\r\n      boxSizing: \"border-box\",\r\n      resize: \"vertical\",\r\n      minHeight: \"100px\",\r\n    },\r\n    button: {\r\n      backgroundColor: \"#088A08\",\r\n      color: \"#fff\",\r\n      padding:isSmallScreen? '8px 15px':'10px 20px',\r\n      borderRadius: \"5px\",\r\n      border: \"none\",\r\n      cursor: \"pointer\",\r\n      boxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.25)\",\r\n      fontSize:isSmallScreen? '.7rem':'.9rem'\r\n    },\r\n    buttonContainer: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n    },\r\n    label:{\r\n      fontSize:isSmallScreen? '.8rem':'1rem'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={styles.container}>\r\n        <div className=\"center-container\">\r\n        {countPlayersInTeam(\"Team1\") >= 15 ||\r\n        countPlayersInTeam(\"Team2\") >= 15 ? (\r\n          <Alert\r\n            severity=\"info\"\r\n            style={{fontSize:isSmallScreen? '.7rem':'.9rem', width: \"100%\", position: \"sticky\", top:isSmallScreen?\"2.5rem\": \"3.5rem\", zIndex: 1 }}\r\n          >\r\n            {countPlayersInTeam(\"Team1\") >= 15\r\n              ? \"Team 1 is full!\"\r\n              : \"Team 2 is full!\"}\r\n          </Alert>\r\n          \r\n        ) : null}\r\n        </div>\r\n        <div className=\"center-container\">\r\n        {verifyAge(birthDate) && (\r\n          <Alert\r\n            severity=\"error\"\r\n            style={{fontSize:isSmallScreen? '.7rem':'.9rem', width: \"100%\", position: \"sticky\", top:isSmallScreen?\"2.5rem\": \"3.5rem\", zIndex: 1 }}\r\n          >\r\n            You must be 18 or above in order to enter match!\r\n          </Alert>\r\n        )}\r\n        </div>\r\n        \r\n        \r\n          <div className=\"center-container\">\r\n          {checkMatch() && (\r\n          <Alert\r\n            severity=\"error\"\r\n            className=\"general-alert\"\r\n          >\r\n            You have already registered for this match!\r\n          </Alert>\r\n        )}\r\n          </div>\r\n       \r\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n          <h2 style={{marginTop:isSmallScreen? '.5rem':'1rem',fontSize:isSmallScreen? '1.2rem':'2rem'}}>Join Team</h2>\r\n        </div>\r\n        {showAlert && <div className=\"signup-alert\">{alert}</div>}\r\n\r\n        <form onSubmit={handleDataSubmit}>\r\n          <div style={styles.formGroup}>\r\n            <label htmlFor=\"name\" style={styles.label}>Name:</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              value={personalData.name}\r\n              onChange={handleDataChange}\r\n              required\r\n              style={styles.input}\r\n\r\n            />\r\n          </div>\r\n          <div style={styles.formGroup}>\r\n            <label htmlFor=\"role\" style={styles.label}>Role:</label>\r\n            <select\r\n              id=\"role\"\r\n              name=\"role\"\r\n              value={personalData.role}\r\n              onChange={handleDataChange}\r\n              required\r\n              style={styles.input}\r\n            >\r\n              <option value=\"\">Select a role</option>\r\n              <option value=\"Betsmen\">Batsman</option>\r\n              <option value=\"Bowler\">Bowler</option>\r\n              <option value=\"Wicketkeeper\">Wicketkeeper</option>\r\n              <option value=\"All Rounder\">All Rounder</option>\r\n            </select>\r\n            <label htmlFor=\"team\" style={styles.label}>Team:</label>\r\n            <select\r\n              id=\"team\"\r\n              name=\"team\"\r\n              value={personalData.team}\r\n              onChange={handleDataChange}\r\n              required\r\n              style={styles.input}\r\n            >\r\n              <option value=\"\">Select a team</option>\r\n              {countPlayersInTeam(\"Team1\") < 15 && (\r\n                <option value=\"Team1\">Team 1</option>\r\n              )}\r\n              {countPlayersInTeam(\"Team2\") < 15 && (\r\n                <option value=\"Team2\">Team 2</option>\r\n              )}\r\n            </select>\r\n          </div>\r\n          <div style={styles.formGroup}>\r\n            <label htmlFor=\"mobileNumber\" style={styles.label}>Mobile Number:</label>\r\n            <input\r\n              type=\"tel\"\r\n              id=\"mobileNumber\"\r\n              name=\"mobileNumber\"\r\n              value={personalData.mobileNumber}\r\n              onChange={handleDataChange}\r\n              required\r\n              style={styles.input}\r\n              maxLength={10}\r\n              minLength={10}\r\n            />\r\n          </div>\r\n          <div style={styles.formGroup}>\r\n            <label htmlFor=\"address\" style={styles.label}>Address:</label>\r\n            <textarea\r\n              id=\"address\"\r\n              name=\"address\"\r\n              value={personalData.address}\r\n              onChange={handleDataChange}\r\n              required\r\n              style={styles.textarea}\r\n            />\r\n          </div>\r\n          <div style={{ textAlign: \"center\", margin: \"3%\" }}>\r\n            <label htmlFor=\"termsCheckbox\" style={{fontSize:isSmallScreen? '.8rem':'1rem'}}>\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"termsCheckbox\"\r\n                checked={checked}\r\n                onChange={() => setChecked(!checked)}\r\n                \r\n              />\r\n              I agree to the{\" \"}\r\n              <a\r\n                onClick={toggleInfoModal}\r\n                style={{\r\n                  color: \"blue\",\r\n                  textDecoration: \"none\",\r\n                  pointer: \"cursor\",\r\n                }}\r\n              >\r\n                Terms and Conditions\r\n              </a>\r\n            </label>\r\n          </div>\r\n          <div style={styles.buttonContainer}>\r\n            <button\r\n              type=\"submit\"\r\n              style={styles.button}\r\n              onClick={handleDataSubmit}\r\n            >\r\n              Submit\r\n            </button>\r\n            <Modal open={showInfoModal} onClose={toggleInfoModal}>\r\n              <div style={styles.modalContainer}>\r\n                <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                  <IconButton\r\n                    edge=\"end\"\r\n                    color=\"inherit\"\r\n                    onClick={toggleInfoModal}\r\n                    aria-label=\"close\"\r\n                  >\r\n                    <CloseIcon />\r\n                  </IconButton>\r\n                </div>\r\n                <Typography\r\n                  variant=\"h6\"\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    marginBottom: \"2%\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize:isSmallScreen? '1rem':'1.3rem'\r\n                  }}\r\n                >\r\n                  Terms and Conditions\r\n                </Typography>\r\n                <Typography variant=\"body1\" style={{fontSize:isSmallScreen? '.7rem':'1rem'}}>\r\n                  Player must be 18 or above to enroll in the match. If the\r\n                  player is found to be less than 18, then player would not be\r\n                  allowed to play.\r\n                </Typography>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default JoinTeam;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}