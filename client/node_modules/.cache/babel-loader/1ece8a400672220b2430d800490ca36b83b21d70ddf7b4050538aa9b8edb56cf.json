{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gbrar/OneDrive/Desktop/CSCI275/cricket-project/backend/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gbrar/OneDrive/Desktop/CSCI275/cricket-project/backend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/gbrar/OneDrive/Desktop/CSCI275/cricket-project/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useLocation}from'react-router-dom';import{useTheme}from\"@mui/material/styles\";import Alert from'@mui/material/Alert';import useMediaQuery from\"@mui/material/useMediaQuery\";import{width}from'@mui/system';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MatchFixture=function MatchFixture(){var location=useLocation();var state=location.state;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),teams=_useState2[0],setTeams=_useState2[1];// Renamed state to 'teams'\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),match=_useState4[0],setMatch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),fixtures=_useState6[0],setFixtures=_useState6[1];// Moved 'fixtures' state here\nvar theme=useTheme();var isSmallScreen=useMediaQuery(theme.breakpoints.down(\"sm\"));useEffect(function(){fetchMatch();},[]);useEffect(function(){// Regenerate fixtures whenever the 'teams' state is updated\nsetFixtures(generateFixtures(teams));},[teams]);var fetchMatch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:5000/api/allmatches/getmatches\",{method:\"GET\",headers:{\"match-id\":state.matchId}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setMatch(data.match);if(data.match&&data.match.Teams.length>0){setTeams(data.match.Teams.map(function(team){return team.name;}));}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchMatch(){return _ref.apply(this,arguments);};}();var styles={container:{display:'flex',flexDirection:'column',alignItems:'center',fontSize:isSmallScreen?\"10px\":'18px',margin:isSmallScreen?\"6rem 0 3rem\":'8rem 0 5rem',fontFamily:'\"Helvetica Neue\", sans-serif'},heading:{marginBottom:'20px',color:'#333',fontSize:isSmallScreen?\"1rem\":'24px',fontWeight:'bold'},knockoutFixture:{width:isSmallScreen?\"80%\":\"40%\",display:'flex',flexDirection:'column',alignItems:'center',backgroundColor:'#f5f5f5'},fixtureMatch:{display:'flex',alignItems:'center',position:'relative',padding:'10px',borderRadius:'5px',backgroundColor:'#fff',boxShadow:'0px 2px 4px rgba(0, 0, 0, 0.1)',margin:'10px',width:\" 90%\"},matchNumber:{marginRight:'10px',fontWeight:'bold'},team:{flex:1,textAlign:'center',fontWeight:'bold',textTransform:'uppercase',color:'#555'},vs:{margin:'0 10px',color:'#888'},line:{position:'absolute',top:'50%',left:'calc(50% - 1px)',height:'100%',width:'2px',backgroundColor:'#888'}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"center-container\",children:/*#__PURE__*/_jsx(Alert,{severity:\"warning\",className:\"general-alert\",children:\"This match is full. Please select another match!\"})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.heading,children:\"8-Team Knockout Fixture\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.knockoutFixture,children:fixtures.map(function(match,index){return/*#__PURE__*/_jsxs(\"div\",{style:styles.fixtureMatch,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.matchNumber,children:[\"Match \",index+1]}),/*#__PURE__*/_jsx(\"div\",{style:styles.team,children:match.home}),/*#__PURE__*/_jsx(\"span\",{style:styles.vs,children:\"vs\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.team,children:match.away}),index<fixtures.length-1]},index);})})]})]});};// Helper function to generate knockout fixtures\nvar generateFixtures=function generateFixtures(teams){var fixtures=[];var matches=teams.length-1;for(var round=0;round<matches;round++){for(var i=0;i<teams.length/2;i++){var home=teams[i];var away=teams[teams.length-1-i];fixtures.push({home:home,away:away});}// Rotate teams for the next round\nteams.splice(1,0,teams.pop());}return fixtures;};export default MatchFixture;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useTheme","Alert","useMediaQuery","width","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MatchFixture","location","state","_useState","_useState2","_slicedToArray","teams","setTeams","_useState3","_useState4","match","setMatch","_useState5","_useState6","fixtures","setFixtures","theme","isSmallScreen","breakpoints","down","fetchMatch","generateFixtures","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","matchId","sent","json","Teams","length","map","team","name","t0","console","log","stop","apply","arguments","styles","container","display","flexDirection","alignItems","fontSize","margin","fontFamily","heading","marginBottom","color","fontWeight","knockoutFixture","backgroundColor","fixtureMatch","position","padding","borderRadius","boxShadow","matchNumber","marginRight","flex","textAlign","textTransform","vs","line","top","left","height","children","className","severity","style","index","home","away","matches","round","i","push","splice","pop"],"sources":["C:/Users/gbrar/OneDrive/Desktop/CSCI275/cricket-project/backend/client/src/components/MatchFixture.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport Alert from '@mui/material/Alert';\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport { width } from '@mui/system';\r\nconst MatchFixture = () => {\r\n  const location = useLocation();\r\n  const state = location.state;\r\n  const [teams, setTeams] = useState([]); // Renamed state to 'teams'\r\n  const [match, setMatch] = useState(null);\r\n  const [fixtures, setFixtures] = useState([]); // Moved 'fixtures' state here\r\n  const theme = useTheme();\r\n  const isSmallScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  useEffect(() => {\r\n    fetchMatch();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Regenerate fixtures whenever the 'teams' state is updated\r\n    setFixtures(generateFixtures(teams));\r\n  }, [teams]);\r\n\r\n  const fetchMatch = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        \"http://localhost:5000/api/allmatches/getmatches\",\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"match-id\": state.matchId,\r\n          },\r\n        }\r\n      );\r\n      const data = await response.json();\r\n      setMatch(data.match);\r\n\r\n      if (data.match && data.match.Teams.length > 0) {\r\n        setTeams(data.match.Teams.map((team) => team.name));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const styles = {\r\n    container: {\r\n      \r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      fontSize:isSmallScreen?\"10px\": '18px',\r\n      margin:isSmallScreen?\"6rem 0 3rem\": '8rem 0 5rem',\r\n      fontFamily: '\"Helvetica Neue\", sans-serif'\r\n    },\r\n    heading: {\r\n      marginBottom: '20px',\r\n      color: '#333',\r\n      fontSize:isSmallScreen?\"1rem\": '24px',\r\n      fontWeight: 'bold'\r\n    },\r\n    knockoutFixture: {\r\n      width:isSmallScreen?\"80%\":\"40%\",\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      backgroundColor: '#f5f5f5'\r\n    },\r\n    fixtureMatch: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      position: 'relative',\r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n      backgroundColor: '#fff',\r\n      boxShadow: '0px 2px 4px rgba(0, 0, 0, 0.1)',\r\n      margin: '10px',\r\n      width:\" 90%\"\r\n    },\r\n    matchNumber: {\r\n      marginRight: '10px',\r\n      fontWeight: 'bold'\r\n    },\r\n    team: {\r\n      flex: 1,\r\n      textAlign: 'center',\r\n      fontWeight: 'bold',\r\n      textTransform: 'uppercase',\r\n      color: '#555'\r\n    },\r\n    vs: {\r\n      margin: '0 10px',\r\n      color: '#888'\r\n    },\r\n    line: {\r\n      position: 'absolute',\r\n      top: '50%',\r\n      left: 'calc(50% - 1px)',\r\n      height: '100%',\r\n      width: '2px',\r\n      backgroundColor:'#888'\r\n     }\r\n  };\r\n\r\n  return (\r\n    <>\r\n     <div className=\"center-container\">\r\n  {\r\n          <Alert severity=\"warning\" className=\"general-alert\">\r\n            This match is full. Please select another match!\r\n          </Alert>\r\n        }\r\n  </div>\r\n      <div style={styles.container}>\r\n        <h2 style={styles.heading}>8-Team Knockout Fixture</h2>\r\n        <div style={styles.knockoutFixture}>\r\n          {fixtures.map((match, index) => (\r\n            <div key={index} style={styles.fixtureMatch}>\r\n              <div style={styles.matchNumber}>Match {index + 1}</div>\r\n              <div style={styles.team}>{match.home}</div>\r\n              <span style={styles.vs}>vs</span>\r\n              <div style={styles.team}>{match.away}</div>\r\n              {index < fixtures.length - 1}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\n// Helper function to generate knockout fixtures\r\nconst generateFixtures = (teams) => {\r\n   const fixtures = [];\r\n   const matches = teams.length -1;\r\n\r\nfor (let round =0; round<matches; round++) {\r\nfor (let i=0; i<teams.length/2; i++) {\r\nconst home = teams[i];\r\nconst away = teams[teams.length-1-i];\r\nfixtures.push({home, away});\r\n}\r\n// Rotate teams for the next round\r\nteams.splice(1,0,teams.pop());\r\n}\r\n\r\nreturn fixtures;\r\n};\r\n\r\nexport default MatchFixture;\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}